jQuery(function(){var e=jQuery("#topbar nav");if(!e.is(":visible")){var t=jQuery("#topbar .logo");jQuery(t).on("click",function(t){t.preventDefault();e.slideToggle()});t=jQuery(".pullmenu");jQuery(t).on("click",function(t){t.preventDefault();e.slideToggle()})}});jQuery(document).ready(function(e){jQuery("#home-categories").masonry({itemSelecor:".home-category",isFitWidth:!0,gutter:30,isOriginLeft:!0,animate:!1});jQuery(".article-list").masonry({itemSelecor:"article, .article-thumb",isFitWidth:!0,gutter:30,isOriginLeft:!0,animate:!0});jQuery(".flexslider").flexslider({controlNav:!1,directionNav:!1,before:function(e){e.count<10&&jQuery.ajax({type:"POST",url:blog_vars.siteurl+"wp-admin/admin-ajax.php",data:{action:"AddHomeSlide"},success:function(n){jQuery(".flexslider ul").append(n);t();e.addSlide(jQuery(".flexlider .slides li:last-child"),e.count)}})}});var t=function(){var t=function(e){var t=e.parentNode,n=parseFloat(e.style.paddingBottom)/100,r=jQuery(t).width(),i=jQuery(t).height();if(0===r){r=window.screen.width;i=r*n}var s=1.1;if(r/i<s){r=r*9/16;jQuery(t).width(r);i=jQuery(t).height()}var o=jQuery(e).closest(".flexslider");o.length>0&&(o=o[0]);if(t.offsetHeight>o.offsetHeight||t.offsetWidth>o.offsetWidth){r=jQuery(o).height()/n;jQuery(t).width(r)}var u;for(u in image_sizes_vars){r*=window.devicePixelRatio;i=r*n;var a=image_sizes_vars[u][0],f=a*n;if(f>image_sizes_vars[u][1]){f=image_sizes_vars[u][1];a=f/n}if(r<=a&&i<=f)return u}return"original"},n=function(n){var r=t(n);if(!n||!n.children)return;var i=n.children[0];if(i){var s=i.getAttribute("data-src-"+r),o=i.getAttribute("data-caption"),u=i.getAttribute("data-title"),a=i.getAttribute("data-link");if(s){jQuery(n).removeClass("not-loaded");var f=new Image;f.src=s;f.setAttribute("alt",u?u:"");n.appendChild(f);n.removeChild(n.children[0]);a&&jQuery(f).wrap(e("<a>",{href:a}));if(o||u){var l,c=document.createElement("div");c.className="legend";if(u){var h=document.createElement("em");l=document.createTextNode(u);h.appendChild(l);c.appendChild(h)}if(o){u?l=document.createTextNode(" - "+o):l=document.createTextNode(o);c.appendChild(l)}n.parentNode.appendChild(c)}}}},r=document.getElementsByClassName("img-container");for(var i=0;i<r.length;i++)jQuery(r[i]).hasClass("not-loaded")&&n(r[i])};t()});jQuery(window).resize(function(){var e=jQuery(".flexslider").height();jQuery(".flexslider .img-container-wrapper").css("max-height",e)});